require_relative 'suppliers/supplier'
require_relative 'suppliers/acme_supplier'
require_relative 'suppliers/paperflies_supplier'
require_relative 'suppliers/patagonia_supplier'
require_relative 'hotel_data_merger'

normalized_data = [[{:id=>"iJhz", :destination_hotel=>5432, :name=>"Beach Villas Singapore", :description=>"This 5 star hotel is located on the coastline of Singapore.", :amenities=>{:general=>["Pool", "BusinessCenter", "WiFi", "DryCleaning", "Breakfast"]}, :location=>{:lng=>103.824006, :lat=>1.264751, :address=>"8 Sentosa Gateway, Beach Villas", :country=>"Singapore", :city=>"Singapore"}}, {:id=>"SjyX", :destination_hotel=>5432, :name=>"InterContinental Singapore Robertson Quay", :description=>"Enjoy sophisticated waterfront living at the new InterContinental® Singapore Robertson Quay, luxury's preferred address nestled in the heart of Robertson Quay along the Singapore River, with the CBD just five minutes drive away. Magnifying the comforts of home, each of our 225 studios and suites features a host of thoughtful amenities that combine modernity with elegance, whilst maintaining functional practicality. The hotel also features a chic, luxurious Club InterContinental Lounge.", :amenities=>{:general=>["Pool", "WiFi", "Aircon", "BusinessCenter", "BathTub", "Breakfast", "DryCleaning", "Bar"]}, :location=>{:lng=>nil, :lat=>nil, :address=>"1 Nanson Road", :country=>"Singapore", :city=>"Singapore"}}, {:id=>"f8c9", :destination_hotel=>1122, :name=>"Hilton Shinjuku Tokyo", :description=>"Hilton Tokyo is located in Shinjuku, the heart of Tokyo's business, shopping and entertainment district, and is an ideal place to experience modern Japan. A complimentary shuttle operates between the hotel and Shinjuku station and the Tokyo Metro subway is connected to the hotel. Relax in one of the modern Japanese-style rooms and admire stunning city views. The hotel offers WiFi and internet access throughout all rooms and public space.", :amenities=>{:general=>["Pool", "WiFi", "BusinessCenter", "DryCleaning", "Breakfast", "Bar", "BathTub"]}, :location=>{:lng=>"", :lat=>"", :address=>"160-0023, SHINJUKU-KU, 6-6-2 NISHI-SHINJUKU, JAPAN", :country=>"Japan", :city=>"Tokyo"}}], [{:id=>"iJhz", :destination_id=>5432, :name=>"Beach Villas Singapore", :description=>"Surrounded by tropical gardens, these upscale villas in elegant Colonial-style buildings are part of the Resorts World Sentosa complex and a 2-minute walk from the Waterfront train station. Featuring sundecks and pool, garden or sea views, the plush 1- to 3-bedroom villas offer free Wi-Fi and flat-screens, as well as free-standing baths, minibars, and tea and coffeemaking facilities. Upgraded villas add private pools, fridges and microwaves; some have wine cellars. A 4-bedroom unit offers a kitchen and a living room. There's 24-hour room and butler service. Amenities include posh restaurant, plus an outdoor pool, a hot tub, and free parking.", :amenities=>{:general=>["outdoor pool", "indoor pool", "business center", "childcare"], :room=>["tv", "coffee machine", "kettle", "hair dryer", "iron"]}, :images=>{:rooms=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/0qZF/2.jpg", :description=>"Double room"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/0qZF/3.jpg", :description=>"Double room"}], :site=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/0qZF/1.jpg", :description=>"Front"}]}, :location=>{:address=>"8 Sentosa Gateway, Beach Villas, 098269", :country=>"Singapore"}}, {:id=>"SjyX", :destination_id=>5432, :name=>"InterContinental", :description=>"InterContinental Singapore Robertson Quay is luxury's preferred address offering stylishly cosmopolitan riverside living for discerning travelers to Singapore. Prominently situated along the Singapore River, the 225-room inspiring luxury hotel is easily accessible to the Marina Bay Financial District, Central Business District, Orchard Road and Singapore Changi International Airport, all located a short drive away. The hotel features the latest in Club InterContinental design and service experience, and five dining options including Publico, an Italian landmark dining and entertainment destination by the waterfront.", :amenities=>{:general=>["outdoor pool", "business center", "childcare", "parking", "bar", "dry cleaning", "wifi", "breakfast", "concierge"], :room=>["aircon", "minibar", "tv", "bathtub", "hair dryer"]}, :images=>{:rooms=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/Sjym/i93_m.jpg", :description=>"Double room"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/Sjym/i94_m.jpg", :description=>"Bathroom"}], :site=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/Sjym/i1_m.jpg", :description=>"Restaurant"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/Sjym/i2_m.jpg", :description=>"Hotel Exterior"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/Sjym/i5_m.jpg", :description=>"Entrance"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/Sjym/i24_m.jpg", :description=>"Bar"}]}, :location=>{:address=>"1 Nanson Rd, Singapore 238909", :country=>"Singapore"}}, {:id=>"f8c9", :destination_id=>1122, :name=>"Hilton Tokyo", :description=>"This sleek high-rise property is 10 minutes' walk from Shinjuku train station, 6 minutes' walk from the Tokyo Metropolitan Government Building and 3 km from Yoyogi Park. The polished rooms offer Wi-Fi and flat-screen TVs, plus minibars, sitting areas, and tea and coffeemaking facilities. Suites add living rooms, and access to a club lounge serving breakfast and cocktails. A free shuttle to Shinjuku station is offered. There's a chic Chinese restaurant, a sushi bar, and a grill restaurant with an open kitchen, as well as an English pub and a hip cocktail lounge. Other amenities include a gym, rooftop tennis courts, and a spa with an indoor pool.", :amenities=>{:general=>["indoor pool", "business center", "wifi"], :room=>["tv", "aircon", "minibar", "bathtub", "hair dryer"]}, :images=>{:rooms=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/YwAr/i1_m.jpg", :description=>"Suite"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/YwAr/i15_m.jpg", :description=>"Double room"}], :site=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/YwAr/i55_m.jpg", :description=>"Bar"}]}, :location=>{:address=>"160-0023, SHINJUKU-KU, 6-6-2 NISHI-SHINJUKU, JAPAN", :country=>"Japan"}}], [{:id=>"iJhz", :destination_id=>5432, :name=>"Beach Villas Singapore", :description=>"Located at the western tip of Resorts World Sentosa, guests at the Beach Villas are guaranteed privacy while they enjoy spectacular views of glittering waters. Guests will find themselves in paradise with this series of exquisite tropical sanctuaries, making it the perfect setting for an idyllic retreat. Within each villa, guests will discover living areas and bedrooms that open out to mini gardens, private timber sundecks and verandahs elegantly framing either lush greenery or an expanse of sea. Guests are assured of a superior slumber with goose feather pillows and luxe mattresses paired with 400 thread count Egyptian cotton bed linen, tastefully paired with a full complement of luxurious in-room amenities and bathrooms boasting rain showers and free-standing tubs coupled with an exclusive array of ESPA amenities and toiletries. Guests also get to enjoy complimentary day access to the facilities at Asia’s flagship spa – the world-renowned ESPA.", :amenities=>{:general=>["Aircon", "Tv", "Coffee machine", "Kettle", "Hair dryer", "Iron", "Tub"]}, :location=>{:lng=>103.824006, :lat=>1.264751, :address=>"8 Sentosa Gateway, Beach Villas, 098269"}, :images=>{:rooms=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/0qZF/2.jpg", :description=>"Double room"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/0qZF/4.jpg", :description=>"Bathroom"}], :amenities=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/0qZF/0.jpg", :description=>"RWS"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/0qZF/6.jpg", :description=>"Sentosa Gateway"}]}}, {:id=>"f8c9", :destination_id=>1122, :name=>"Hilton Tokyo Shinjuku", :description=>nil, :amenities=>{:general=>[]}, :location=>{:lng=>139.690965, :lat=>35.6926, :address=>nil}, :images=>{:rooms=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/YwAr/i10_m.jpg", :description=>"Suite"}, {:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/YwAr/i11_m.jpg", :description=>"Suite - Living room"}], :amenities=>[{:link=>"https://d2ey9sqrvkqdfs.cloudfront.net/YwAr/i57_m.jpg", :description=>"Bar"}]}}]]


# acme_supplier = AcmeSupplier.new
# normalized_data << acme_supplier.fetch_data
#
# paperflies_supplier = PaperfliesSupplier.new
# normalized_data << paperflies_supplier.fetch_data
#
# patagonia_supplier = PatagoniaSupplier.new
# normalized_data << patagonia_supplier.fetch_data
#
# p normalized_data

merged_data = HotelDataMerger.merge(normalized_data)

puts merged_data.to_json

